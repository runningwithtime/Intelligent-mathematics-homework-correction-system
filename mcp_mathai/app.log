2025-05-24 02:41:53,965 - main - INFO - 🎯 启动模式: all
2025-05-24 02:41:53,966 - main - INFO - ==================================================
2025-05-24 02:41:53,966 - main - INFO - 🚀 启动完整系统...
2025-05-24 02:41:53,966 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 02:41:53,975 - main - INFO - 🗄️ 检查数据库...
2025-05-24 02:41:53,976 - main - INFO - ✅ students表存在
2025-05-24 02:41:53,977 - main - INFO - ✅ 数据库检查完成
2025-05-24 02:41:53,977 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 02:41:53,978 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 02:41:54,460 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 02:41:56,988 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 02:41:56,988 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 02:41:56,989 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 02:41:57,282 - data.database - INFO - 数据库初始化完成
2025-05-24 02:41:57,459 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 02:41:57,459 - gui - INFO - 启动数学批改系统GUI
2025-05-24 02:41:57,515 - gui - INFO - 状态更新: 系统已启动
2025-05-24 02:42:15,945 - gui - INFO - 状态更新: 已加载图像: LLM.png
2025-05-24 02:42:25,520 - gui - INFO - 状态更新: 已加载图像: 例题.jpg
2025-05-24 02:42:27,362 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 02:42:27,364 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 02:42:27,392 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 02:42:27,394 - mcp_client.client - INFO - 服务器信息: {'version': '1.0', 'capabilities': ['grade_homework', 'analyze_image', 'get_feedback']}
2025-05-24 02:42:27,394 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 02:42:27,397 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 02:42:27,401 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 02:42:27,452 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 02:42:27,453 - gui - INFO - ✅ MCP批改成功，处理时间: 2.50秒
2025-05-24 02:42:27,465 - gui - INFO - 状态更新: 批改完成，用时: 2.50秒
2025-05-24 02:43:49,316 - gui - INFO - GUI应用已关闭
2025-05-24 02:49:31,930 - main - INFO - 🎯 启动模式: all
2025-05-24 02:49:31,930 - main - INFO - ==================================================
2025-05-24 02:49:31,930 - main - INFO - 🚀 启动完整系统...
2025-05-24 02:49:31,931 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 02:49:31,935 - main - INFO - 🗄️ 检查数据库...
2025-05-24 02:49:31,936 - main - INFO - ✅ students表存在
2025-05-24 02:49:31,936 - main - INFO - ✅ 数据库检查完成
2025-05-24 02:49:31,936 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 02:49:31,937 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 02:49:32,288 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 02:49:34,946 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 02:49:34,946 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 02:49:34,947 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 02:49:35,244 - data.database - INFO - 数据库初始化完成
2025-05-24 02:49:35,421 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 02:49:35,462 - main - ERROR - GUI启动失败: utf_8_encode() argument 1 must be str, not bytes
2025-05-24 02:49:35,463 - main - ERROR - GUI启动失败: utf_8_encode() argument 1 must be str, not bytes
2025-05-24 02:51:42,690 - main - INFO - 🎯 启动模式: all
2025-05-24 02:51:42,690 - main - INFO - ==================================================
2025-05-24 02:51:42,690 - main - INFO - 🚀 启动完整系统...
2025-05-24 02:51:42,690 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 02:51:42,695 - main - INFO - 🗄️ 检查数据库...
2025-05-24 02:51:42,696 - main - INFO - ✅ students表存在
2025-05-24 02:51:42,696 - main - INFO - ✅ 数据库检查完成
2025-05-24 02:51:42,696 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 02:51:42,697 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 02:51:43,034 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 02:51:45,710 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 02:51:45,711 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 02:51:45,711 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 02:51:46,008 - data.database - INFO - 数据库初始化完成
2025-05-24 02:51:46,293 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 02:51:46,293 - gui - INFO - 启动数学批改系统GUI
2025-05-24 02:51:46,328 - gui - INFO - 状态更新: 系统已启动
2025-05-24 02:52:01,502 - gui - INFO - 状态更新: 已加载图像: 例题.jpg
2025-05-24 02:52:03,349 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 02:52:03,351 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 02:52:03,432 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 02:52:03,432 - mcp_client.client - INFO - 服务器信息: {'version': '1.0', 'capabilities': ['grade_homework', 'analyze_image', 'get_feedback']}
2025-05-24 02:52:03,433 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 02:52:03,437 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 02:52:03,441 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 02:52:03,515 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 02:52:03,516 - gui - INFO - ✅ MCP批改成功，处理时间: 2.50秒
2025-05-24 02:52:03,529 - gui - INFO - 状态更新: 批改完成，用时: 2.50秒
2025-05-24 03:00:24,013 - gui - INFO - 用户中断应用
2025-05-24 03:00:24,014 - gui - INFO - GUI应用已关闭
2025-05-24 03:00:25,964 - main - INFO - 🎯 启动模式: all
2025-05-24 03:00:25,964 - main - INFO - ==================================================
2025-05-24 03:00:25,964 - main - INFO - 🚀 启动完整系统...
2025-05-24 03:00:25,964 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 03:00:26,057 - main - INFO - 🗄️ 检查数据库...
2025-05-24 03:00:26,153 - main - INFO - ✅ students表存在
2025-05-24 03:00:26,154 - main - INFO - ✅ 数据库检查完成
2025-05-24 03:00:26,155 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 03:00:26,157 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 03:00:29,109 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 03:00:29,157 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 03:00:29,157 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 03:00:29,157 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 03:00:32,188 - data.database - INFO - 数据库初始化完成
2025-05-24 03:00:33,852 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 03:00:33,852 - gui - INFO - 启动数学批改系统GUI
2025-05-24 03:00:33,901 - gui - INFO - 状态更新: 系统已启动
2025-05-24 03:00:45,729 - gui - INFO - 状态更新: 已加载图像: 例题.jpg
2025-05-24 03:00:47,406 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 03:00:47,407 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 03:00:47,573 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 03:00:47,573 - mcp_client.client - INFO - 服务器信息: {'version': '1.0', 'capabilities': ['grade_homework', 'analyze_image', 'get_feedback']}
2025-05-24 03:00:47,573 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 03:00:47,658 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 03:00:47,662 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 03:00:47,754 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 03:00:47,754 - gui - INFO - ✅ MCP批改成功，处理时间: 2.50秒
2025-05-24 03:00:47,767 - gui - INFO - 状态更新: 批改完成，用时: 2.50秒
2025-05-24 03:04:22,363 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 03:04:22,365 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 03:04:22,371 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 03:04:22,445 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 03:04:22,445 - gui - INFO - ✅ MCP批改成功，处理时间: 2.50秒
2025-05-24 03:04:22,458 - gui - INFO - 状态更新: 批改完成，用时: 2.50秒
2025-05-24 03:08:01,778 - gui - INFO - 用户中断应用
2025-05-24 03:08:01,778 - gui - INFO - GUI应用已关闭
2025-05-24 03:08:02,125 - main - INFO - 🎯 启动模式: all
2025-05-24 03:08:02,126 - main - INFO - ==================================================
2025-05-24 03:08:02,126 - main - INFO - 🚀 启动完整系统...
2025-05-24 03:08:02,126 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 03:08:02,149 - main - INFO - 🗄️ 检查数据库...
2025-05-24 03:08:02,150 - main - INFO - ✅ students表存在
2025-05-24 03:08:02,151 - main - INFO - ✅ 数据库检查完成
2025-05-24 03:08:02,151 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 03:08:02,151 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 03:08:02,463 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 03:08:05,159 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 03:08:05,159 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 03:08:05,159 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 03:08:05,484 - data.database - INFO - 数据库初始化完成
2025-05-24 03:08:05,712 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 03:08:05,712 - gui - INFO - 启动数学批改系统GUI
2025-05-24 03:08:05,743 - gui - INFO - 状态更新: 系统已启动
2025-05-24 03:08:20,374 - gui - INFO - 状态更新: 已加载图像: 例题.jpg
2025-05-24 03:08:21,697 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 03:08:21,699 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 03:08:21,758 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 03:08:21,758 - mcp_client.client - INFO - 服务器信息: {'version': '1.0', 'capabilities': ['grade_homework', 'analyze_image', 'get_feedback']}
2025-05-24 03:08:21,758 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 03:08:21,761 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 03:08:21,765 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 03:08:21,816 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 03:08:21,816 - gui - INFO - ✅ MCP批改成功，处理时间: 2.50秒
2025-05-24 03:08:21,830 - gui - INFO - 状态更新: 批改完成，用时: 2.50秒
2025-05-24 03:08:25,542 - gui - INFO - GUI应用已关闭
2025-05-24 03:10:15,594 - main - INFO - 🎯 启动模式: all
2025-05-24 03:10:15,594 - main - INFO - ==================================================
2025-05-24 03:10:15,594 - main - INFO - 🚀 启动完整系统...
2025-05-24 03:10:15,594 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 03:10:15,599 - main - INFO - 🗄️ 检查数据库...
2025-05-24 03:10:15,600 - main - INFO - ✅ students表存在
2025-05-24 03:10:15,600 - main - INFO - ✅ 数据库检查完成
2025-05-24 03:10:15,600 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 03:10:15,601 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 03:10:15,914 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 03:10:18,613 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 03:10:18,613 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 03:10:18,613 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 03:10:18,905 - data.database - INFO - 数据库初始化完成
2025-05-24 03:10:19,085 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 03:10:19,085 - gui - INFO - 启动数学批改系统GUI
2025-05-24 03:10:19,125 - gui - INFO - 状态更新: 系统已启动
2025-05-24 03:10:34,613 - gui - INFO - 状态更新: 已加载图像: 例题.jpg
2025-05-24 03:10:36,185 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 03:10:36,186 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 03:10:36,348 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 03:10:36,348 - mcp_client.client - INFO - 服务器信息: {'version': '1.0', 'capabilities': ['grade_homework', 'analyze_image', 'get_feedback']}
2025-05-24 03:10:36,349 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 03:10:36,354 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 03:10:36,358 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 03:10:36,416 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 03:10:36,416 - gui - INFO - ✅ MCP批改成功，处理时间: 2.50秒
2025-05-24 03:10:36,432 - gui - INFO - 状态更新: 批改完成，用时: 2.50秒
2025-05-24 03:10:46,714 - gui - INFO - GUI应用已关闭
2025-05-24 11:27:35,121 - main - INFO - 🎯 启动模式: all
2025-05-24 11:27:35,122 - main - INFO - ==================================================
2025-05-24 11:27:35,122 - main - INFO - 🚀 启动完整系统...
2025-05-24 11:27:35,123 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 11:27:35,744 - main - INFO - 🗄️ 检查数据库...
2025-05-24 11:27:35,860 - main - INFO - ✅ students表存在
2025-05-24 11:27:35,861 - main - INFO - ✅ 数据库检查完成
2025-05-24 11:27:35,861 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 11:27:35,862 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 11:27:38,869 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 11:27:38,869 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 11:27:38,869 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 11:27:41,607 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 11:27:42,469 - data.database - INFO - 数据库初始化完成
2025-05-24 11:27:44,879 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 11:27:44,879 - gui - INFO - 启动数学批改系统GUI
2025-05-24 11:27:44,954 - gui - INFO - 状态更新: 系统已启动
2025-05-24 11:27:58,151 - gui - INFO - 状态更新: 已加载图像: 学生作业图片.png
2025-05-24 11:28:00,417 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:28:00,419 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 11:28:00,560 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 11:28:00,560 - mcp_client.client - INFO - 服务器信息: {'version': '2.0', 'capabilities': ['enhanced_analysis', 'grade_specific', 'detailed_feedback']}
2025-05-24 11:28:00,560 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 11:28:00,623 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:28:00,625 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:28:00,628 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:28:00,628 - gui - INFO - ✅ MCP批改成功，处理时间: 2.92秒
2025-05-24 11:28:00,679 - gui - INFO - 状态更新: 批改完成，用时: 2.92秒
2025-05-24 11:36:22,783 - gui - INFO - 状态更新: 已加载图像: h1.png
2025-05-24 11:36:25,387 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:36:25,389 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:36:25,391 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:36:25,394 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:36:25,394 - gui - INFO - ✅ MCP批改成功，处理时间: 3.82秒
2025-05-24 11:36:25,422 - gui - INFO - 状态更新: 批改完成，用时: 3.82秒
2025-05-24 11:39:04,081 - gui - INFO - 状态更新: 已加载图像: h2.png
2025-05-24 11:39:07,187 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:39:07,188 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:39:07,189 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:39:07,192 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:39:07,192 - gui - INFO - ✅ MCP批改成功，处理时间: 3.12秒
2025-05-24 11:39:07,212 - gui - INFO - 状态更新: 批改完成，用时: 3.12秒
2025-05-24 11:40:40,236 - gui - INFO - 状态更新: 已加载图像: h3.png
2025-05-24 11:40:41,883 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:40:41,884 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:40:41,885 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:40:41,887 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:40:41,887 - gui - INFO - ✅ MCP批改成功，处理时间: 2.64秒
2025-05-24 11:40:41,901 - gui - INFO - 状态更新: 批改完成，用时: 2.64秒
2025-05-24 11:41:00,644 - gui - INFO - 状态更新: 已加载图像: h4.png
2025-05-24 11:41:02,576 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:41:02,578 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:41:02,580 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:41:02,582 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:41:02,582 - gui - INFO - ✅ MCP批改成功，处理时间: 3.60秒
2025-05-24 11:41:02,604 - gui - INFO - 状态更新: 批改完成，用时: 3.60秒
2025-05-24 11:41:08,768 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:41:08,769 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:41:08,770 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:41:08,772 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:41:08,772 - gui - INFO - ✅ MCP批改成功，处理时间: 2.86秒
2025-05-24 11:41:08,784 - gui - INFO - 状态更新: 批改完成，用时: 2.86秒
2025-05-24 11:41:13,311 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:41:13,312 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:41:13,314 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:41:13,317 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:41:13,317 - gui - INFO - ✅ MCP批改成功，处理时间: 3.25秒
2025-05-24 11:41:13,333 - gui - INFO - 状态更新: 批改完成，用时: 3.25秒
2025-05-24 11:41:16,928 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:41:16,929 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:41:16,930 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:41:16,932 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:41:16,932 - gui - INFO - ✅ MCP批改成功，处理时间: 2.55秒
2025-05-24 11:41:16,943 - gui - INFO - 状态更新: 批改完成，用时: 2.55秒
2025-05-24 11:41:19,593 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:41:19,595 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:41:19,597 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:41:19,599 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:41:19,599 - gui - INFO - ✅ MCP批改成功，处理时间: 3.95秒
2025-05-24 11:41:19,619 - gui - INFO - 状态更新: 批改完成，用时: 3.95秒
2025-05-24 11:41:23,667 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:41:23,669 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:41:23,671 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:41:23,673 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:41:23,674 - gui - INFO - ✅ MCP批改成功，处理时间: 2.85秒
2025-05-24 11:41:23,692 - gui - INFO - 状态更新: 批改完成，用时: 2.85秒
2025-05-24 11:41:28,121 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:41:28,123 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:41:28,125 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:41:28,127 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:41:28,127 - gui - INFO - ✅ MCP批改成功，处理时间: 3.86秒
2025-05-24 11:41:28,150 - gui - INFO - 状态更新: 批改完成，用时: 3.86秒
2025-05-24 11:42:24,580 - gui - INFO - 状态更新: 已加载图像: h1.png
2025-05-24 11:42:32,421 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:42:32,423 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:42:32,424 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:42:32,426 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:42:32,426 - gui - INFO - ✅ MCP批改成功，处理时间: 3.17秒
2025-05-24 11:42:32,441 - gui - INFO - 状态更新: 批改完成，用时: 3.17秒
2025-05-24 11:52:15,503 - gui - INFO - 状态更新: 已加载图像: h2.png
2025-05-24 11:52:20,189 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 11:52:20,190 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 11:52:20,192 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 11:52:20,193 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 11:52:20,193 - gui - INFO - ✅ MCP批改成功，处理时间: 2.63秒
2025-05-24 11:52:20,212 - gui - INFO - 状态更新: 批改完成，用时: 2.63秒
2025-05-24 12:14:53,768 - gui - INFO - 状态更新: 已加载图像: Q6.png
2025-05-24 12:14:59,591 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:14:59,593 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:14:59,595 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:14:59,598 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:14:59,598 - gui - INFO - ✅ MCP批改成功，处理时间: 2.40秒
2025-05-24 12:14:59,627 - gui - INFO - 状态更新: 批改完成，用时: 2.40秒
2025-05-24 12:37:57,111 - gui - INFO - 状态更新: 已加载图像: Q5.png
2025-05-24 12:38:01,740 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:38:01,742 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:38:01,748 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:38:01,749 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:38:01,750 - gui - INFO - ✅ MCP批改成功，处理时间: 3.20秒
2025-05-24 12:38:01,754 - gui - INFO - 状态更新: 批改完成，用时: 3.20秒
2025-05-24 12:39:15,894 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:39:15,895 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:39:15,896 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:39:15,898 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:39:15,898 - gui - INFO - ✅ MCP批改成功，处理时间: 3.20秒
2025-05-24 12:39:15,908 - gui - INFO - 状态更新: 批改完成，用时: 3.20秒
2025-05-24 12:53:44,640 - gui - INFO - GUI应用已关闭
2025-05-24 12:54:20,357 - main - INFO - 🎯 启动模式: all
2025-05-24 12:54:20,357 - main - INFO - ==================================================
2025-05-24 12:54:20,357 - main - INFO - 🚀 启动完整系统...
2025-05-24 12:54:20,358 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 12:54:20,406 - main - INFO - 🗄️ 检查数据库...
2025-05-24 12:54:20,427 - main - INFO - 📝 创建students表...
2025-05-24 12:54:20,628 - main - INFO - ✅ students表创建成功
2025-05-24 12:54:20,629 - main - INFO - ✅ 数据库检查完成
2025-05-24 12:54:20,630 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 12:54:20,632 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 12:54:23,639 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 12:54:23,639 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 12:54:23,640 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 12:54:25,663 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 12:54:26,383 - data.database - INFO - 数据库初始化完成
2025-05-24 12:54:27,637 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 12:54:27,637 - gui - INFO - 启动数学批改系统GUI
2025-05-24 12:54:27,683 - gui - INFO - 状态更新: 系统已启动
2025-05-24 12:54:47,920 - gui - INFO - 状态更新: 已加载图像: Q5.png
2025-05-24 12:54:54,269 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:54:54,270 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 12:54:54,914 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 12:54:54,915 - mcp_client.client - INFO - 服务器信息: {'version': '2.0', 'capabilities': ['enhanced_analysis', 'grade_specific', 'detailed_feedback']}
2025-05-24 12:54:54,915 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 12:54:54,968 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:54:54,969 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:54:54,971 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:54:54,972 - gui - INFO - ✅ MCP批改成功，处理时间: 3.20秒
2025-05-24 12:54:55,004 - gui - INFO - 状态更新: 批改完成，用时: 3.20秒
2025-05-24 12:55:36,079 - gui - INFO - 状态更新: 已加载图像: Q1.png
2025-05-24 12:55:40,821 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:55:40,823 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:55:40,825 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:55:40,829 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:55:40,829 - gui - INFO - ✅ MCP批改成功，处理时间: 3.00秒
2025-05-24 12:55:40,867 - gui - INFO - 状态更新: 批改完成，用时: 3.00秒
2025-05-24 12:56:06,830 - gui - INFO - 状态更新: 已加载图像: Q8.png
2025-05-24 12:56:09,907 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:56:09,910 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:56:09,912 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:56:09,915 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:56:09,915 - gui - INFO - ✅ MCP批改成功，处理时间: 2.91秒
2025-05-24 12:56:09,935 - gui - INFO - 状态更新: 批改完成，用时: 2.91秒
2025-05-24 12:56:18,308 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:56:18,309 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:56:18,311 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:56:18,314 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:56:18,314 - gui - INFO - ✅ MCP批改成功，处理时间: 3.47秒
2025-05-24 12:56:18,337 - gui - INFO - 状态更新: 批改完成，用时: 3.47秒
2025-05-24 12:56:23,232 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:56:23,233 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:56:23,234 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:56:23,344 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:56:23,344 - gui - INFO - ✅ MCP批改成功，处理时间: 1.80秒
2025-05-24 12:56:23,365 - gui - INFO - 状态更新: 批改完成，用时: 1.80秒
2025-05-24 12:56:29,344 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:56:29,345 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:56:29,346 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:56:29,348 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:56:29,348 - gui - INFO - ✅ MCP批改成功，处理时间: 2.40秒
2025-05-24 12:56:29,367 - gui - INFO - 状态更新: 批改完成，用时: 2.40秒
2025-05-24 12:56:35,767 - gui - INFO - 状态更新: 已加载图像: Q8.png
2025-05-24 12:56:40,333 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:56:40,335 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:56:40,336 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:56:40,339 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:56:40,339 - gui - INFO - ✅ MCP批改成功，处理时间: 3.25秒
2025-05-24 12:56:40,358 - gui - INFO - 状态更新: 批改完成，用时: 3.25秒
2025-05-24 12:56:58,830 - gui - INFO - 状态更新: 已加载图像: Q2.png
2025-05-24 12:57:03,387 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:57:03,390 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:57:03,391 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:57:03,394 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:57:03,394 - gui - INFO - ✅ MCP批改成功，处理时间: 2.38秒
2025-05-24 12:57:03,415 - gui - INFO - 状态更新: 批改完成，用时: 2.38秒
2025-05-24 12:57:22,690 - gui - INFO - 状态更新: 已加载图像: Q9.png
2025-05-24 12:57:26,150 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:57:26,152 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:57:26,154 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:57:26,269 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:57:26,270 - gui - INFO - ✅ MCP批改成功，处理时间: 2.55秒
2025-05-24 12:57:26,286 - gui - INFO - 状态更新: 批改完成，用时: 2.55秒
2025-05-24 12:58:13,359 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:58:13,360 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:58:13,361 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:58:13,363 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:58:13,363 - gui - INFO - ✅ MCP批改成功，处理时间: 3.15秒
2025-05-24 12:58:13,377 - gui - INFO - 状态更新: 批改完成，用时: 3.15秒
2025-05-24 12:58:23,150 - gui - INFO - 状态更新: 已加载图像: Q6.png
2025-05-24 12:58:26,510 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 12:58:26,512 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 12:58:26,514 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 12:58:26,517 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 12:58:26,517 - gui - INFO - ✅ MCP批改成功，处理时间: 2.40秒
2025-05-24 12:58:26,535 - gui - INFO - 状态更新: 批改完成，用时: 2.40秒
2025-05-24 13:04:22,946 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:04:22,947 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:04:22,948 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:04:22,950 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:04:22,950 - gui - INFO - ✅ MCP批改成功，处理时间: 2.40秒
2025-05-24 13:04:22,966 - gui - INFO - 状态更新: 批改完成，用时: 2.40秒
2025-05-24 13:09:55,831 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:09:59,005 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:09:59,007 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:09:59,009 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:09:59,012 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:09:59,012 - gui - INFO - ✅ MCP批改成功，处理时间: 2.40秒
2025-05-24 13:09:59,030 - gui - INFO - 状态更新: 批改完成，用时: 2.40秒
2025-05-24 13:21:44,772 - gui - INFO - 用户中断应用
2025-05-24 13:21:44,774 - gui - INFO - GUI应用已关闭
2025-05-24 13:21:46,181 - main - INFO - 🎯 启动模式: all
2025-05-24 13:21:46,181 - main - INFO - ==================================================
2025-05-24 13:21:46,181 - main - INFO - 🚀 启动完整系统...
2025-05-24 13:21:46,181 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 13:21:46,232 - main - INFO - 🗄️ 检查数据库...
2025-05-24 13:21:46,262 - main - INFO - ✅ students表存在
2025-05-24 13:21:46,263 - main - INFO - ✅ 数据库检查完成
2025-05-24 13:21:46,264 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 13:21:46,266 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 13:21:49,278 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 13:21:49,278 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 13:21:49,279 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 13:21:49,419 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 13:21:50,825 - data.database - INFO - 数据库初始化完成
2025-05-24 13:21:51,852 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 13:21:51,852 - gui - INFO - 启动数学批改系统GUI
2025-05-24 13:21:51,885 - gui - INFO - 状态更新: 系统已启动
2025-05-24 13:22:02,895 - gui - INFO - 状态更新: 已加载图像: Q6.png
2025-05-24 13:22:05,871 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:22:06,252 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:22:06,253 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 13:22:06,451 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 13:22:06,451 - mcp_client.client - INFO - 服务器信息: {'version': '2.0', 'capabilities': ['enhanced_analysis', 'grade_specific', 'detailed_feedback']}
2025-05-24 13:22:06,452 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 13:22:06,521 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:22:06,522 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:22:06,525 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:22:06,525 - gui - INFO - ✅ MCP批改成功，处理时间: 2.70秒
2025-05-24 13:22:06,528 - gui - INFO - 批改成功，准备显示结果
2025-05-24 13:22:06,529 - gui - INFO - 开始显示详细反馈...
2025-05-24 13:22:06,547 - gui - INFO - 准备显示 1 个题目的详细反馈
2025-05-24 13:22:07,047 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 13:22:07,072 - gui - INFO - 状态更新: 批改完成，用时: 2.70秒
2025-05-24 13:22:37,628 - gui - INFO - 状态更新: 已加载图像: Q2.png
2025-05-24 13:22:41,984 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:22:41,992 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:22:41,993 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:22:41,995 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:22:41,996 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:22:41,996 - gui - INFO - ✅ MCP批改成功，处理时间: 3.41秒
2025-05-24 13:22:41,998 - gui - INFO - 批改成功，准备显示结果
2025-05-24 13:22:41,998 - gui - INFO - 开始显示详细反馈...
2025-05-24 13:22:41,998 - gui - INFO - 准备显示 1 个题目的详细反馈
2025-05-24 13:22:42,021 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 13:22:42,025 - gui - INFO - 状态更新: 批改完成，用时: 3.41秒
2025-05-24 13:23:25,242 - gui - INFO - 状态更新: 已加载图像: Q9.png
2025-05-24 13:23:27,420 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:23:27,424 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:23:27,425 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:23:27,427 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:23:27,428 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:23:27,428 - gui - INFO - ✅ MCP批改成功，处理时间: 2.15秒
2025-05-24 13:23:27,429 - gui - INFO - 批改成功，准备显示结果
2025-05-24 13:23:27,430 - gui - INFO - 开始显示详细反馈...
2025-05-24 13:23:27,430 - gui - INFO - 准备显示 2 个题目的详细反馈
2025-05-24 13:23:27,461 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 13:23:27,464 - gui - INFO - 状态更新: 批改完成，用时: 2.15秒
2025-05-24 13:23:52,121 - gui - INFO - GUI应用已关闭
2025-05-24 13:23:55,480 - main - INFO - 🎯 启动模式: all
2025-05-24 13:23:55,481 - main - INFO - ==================================================
2025-05-24 13:23:55,481 - main - INFO - 🚀 启动完整系统...
2025-05-24 13:23:55,481 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 13:23:55,485 - main - INFO - 🗄️ 检查数据库...
2025-05-24 13:23:55,486 - main - INFO - ✅ students表存在
2025-05-24 13:23:55,486 - main - INFO - ✅ 数据库检查完成
2025-05-24 13:23:55,487 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 13:23:55,487 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 13:23:55,788 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 13:23:58,496 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 13:23:58,496 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 13:23:58,497 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 13:23:58,786 - data.database - INFO - 数据库初始化完成
2025-05-24 13:23:59,069 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 13:23:59,069 - gui - INFO - 启动数学批改系统GUI
2025-05-24 13:23:59,111 - gui - INFO - 状态更新: 系统已启动
2025-05-24 13:24:10,746 - gui - INFO - 状态更新: 已加载图像: Q2.png
2025-05-24 13:24:12,943 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:24:13,083 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:24:13,084 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 13:24:13,112 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 13:24:13,112 - mcp_client.client - INFO - 服务器信息: {'version': '2.0', 'capabilities': ['enhanced_analysis', 'grade_specific', 'detailed_feedback']}
2025-05-24 13:24:13,112 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 13:24:13,116 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:24:13,117 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:24:13,207 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:24:13,207 - gui - INFO - ✅ MCP批改成功，处理时间: 2.53秒
2025-05-24 13:24:13,208 - gui - INFO - 批改成功，准备显示结果
2025-05-24 13:24:13,210 - gui - INFO - 开始显示详细反馈...
2025-05-24 13:24:13,210 - gui - INFO - 准备显示 2 个题目的详细反馈
2025-05-24 13:24:13,495 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 13:24:13,502 - gui - INFO - 状态更新: 批改完成，用时: 2.53秒
2025-05-24 13:24:23,585 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:24:23,589 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:24:23,591 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:24:23,592 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:24:23,705 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:24:23,706 - gui - INFO - ✅ MCP批改成功，处理时间: 2.38秒
2025-05-24 13:24:23,710 - gui - INFO - 批改成功，准备显示结果
2025-05-24 13:24:23,710 - gui - INFO - 开始显示详细反馈...
2025-05-24 13:24:23,711 - gui - INFO - 准备显示 2 个题目的详细反馈
2025-05-24 13:24:23,725 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 13:24:23,728 - gui - INFO - 状态更新: 批改完成，用时: 2.38秒
2025-05-24 13:24:37,245 - gui - INFO - GUI应用已关闭
2025-05-24 13:25:15,468 - main - INFO - 🎯 启动模式: all
2025-05-24 13:25:15,468 - main - INFO - ==================================================
2025-05-24 13:25:15,468 - main - INFO - 🚀 启动完整系统...
2025-05-24 13:25:15,468 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 13:25:15,473 - main - INFO - 🗄️ 检查数据库...
2025-05-24 13:25:15,474 - main - INFO - ✅ students表存在
2025-05-24 13:25:15,474 - main - INFO - ✅ 数据库检查完成
2025-05-24 13:25:15,474 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 13:25:15,475 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 13:25:15,778 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 13:25:18,477 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 13:25:18,477 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 13:25:18,478 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 13:25:18,788 - data.database - INFO - 数据库初始化完成
2025-05-24 13:25:19,426 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 13:25:19,426 - gui - INFO - 启动数学批改系统GUI
2025-05-24 13:25:19,476 - gui - INFO - 状态更新: 系统已启动
2025-05-24 13:25:32,750 - gui - INFO - 状态更新: 已加载图像: Q2.png
2025-05-24 13:25:36,460 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:25:36,672 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:25:36,674 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 13:25:36,717 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 13:25:36,717 - mcp_client.client - INFO - 服务器信息: {'version': '2.0', 'capabilities': ['enhanced_analysis', 'grade_specific', 'detailed_feedback']}
2025-05-24 13:25:36,717 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 13:25:36,805 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:25:36,809 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:25:36,813 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:25:36,814 - gui - INFO - ✅ MCP批改成功，处理时间: 2.01秒
2025-05-24 13:25:36,819 - gui - INFO - 批改成功，准备显示结果
2025-05-24 13:25:36,822 - gui - INFO - 开始显示详细反馈...
2025-05-24 13:25:36,824 - gui - INFO - 准备显示 2 个题目的详细反馈
2025-05-24 13:25:37,203 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 13:25:37,223 - gui - INFO - 状态更新: 批改完成，用时: 2.01秒
2025-05-24 13:25:52,603 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:25:52,611 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:25:52,612 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:25:52,613 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:25:52,615 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:25:52,615 - gui - INFO - ✅ MCP批改成功，处理时间: 3.30秒
2025-05-24 13:25:52,617 - gui - INFO - 批改成功，准备显示结果
2025-05-24 13:25:52,617 - gui - INFO - 开始显示详细反馈...
2025-05-24 13:25:52,618 - gui - INFO - 准备显示 1 个题目的详细反馈
2025-05-24 13:25:52,626 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 13:25:52,629 - gui - INFO - 状态更新: 批改完成，用时: 3.30秒
2025-05-24 13:25:59,748 - gui - INFO - GUI应用已关闭
2025-05-24 13:26:55,970 - main - INFO - 🎯 启动模式: all
2025-05-24 13:26:55,970 - main - INFO - ==================================================
2025-05-24 13:26:55,970 - main - INFO - 🚀 启动完整系统...
2025-05-24 13:26:55,970 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 13:26:55,975 - main - INFO - 🗄️ 检查数据库...
2025-05-24 13:26:55,976 - main - INFO - ✅ students表存在
2025-05-24 13:26:55,976 - main - INFO - ✅ 数据库检查完成
2025-05-24 13:26:55,976 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 13:26:55,977 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 13:26:56,288 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 13:26:58,992 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 13:26:58,992 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 13:26:58,992 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 13:26:59,277 - data.database - INFO - 数据库初始化完成
2025-05-24 13:26:59,559 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 13:26:59,559 - gui - INFO - 启动数学批改系统GUI
2025-05-24 13:26:59,603 - gui - INFO - 状态更新: 系统已启动
2025-05-24 13:27:49,493 - gui - INFO - 状态更新: 已加载图像: Q2.png
2025-05-24 13:27:58,882 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:27:59,017 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:27:59,018 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 13:27:59,046 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 13:27:59,046 - mcp_client.client - INFO - 服务器信息: {'version': '2.0', 'capabilities': ['enhanced_analysis', 'grade_specific', 'detailed_feedback']}
2025-05-24 13:27:59,046 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 13:27:59,051 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:27:59,052 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:27:59,053 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:27:59,053 - gui - INFO - ✅ MCP批改成功，处理时间: 2.43秒
2025-05-24 13:27:59,055 - gui - INFO - 批改成功，准备显示结果
2025-05-24 13:27:59,056 - gui - INFO - 开始显示详细反馈...
2025-05-24 13:27:59,056 - gui - INFO - 准备显示 2 个题目的详细反馈
2025-05-24 13:27:59,324 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 13:27:59,329 - gui - INFO - 状态更新: 批改完成，用时: 2.43秒
2025-05-24 13:29:27,279 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:29:29,855 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:29:29,863 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:29:29,864 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:29:29,866 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:29:29,867 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:29:29,867 - gui - INFO - ✅ MCP批改成功，处理时间: 2.32秒
2025-05-24 13:29:29,868 - gui - INFO - 批改成功，准备显示结果
2025-05-24 13:29:29,869 - gui - INFO - 开始显示详细反馈...
2025-05-24 13:29:29,869 - gui - INFO - 准备显示 2 个题目的详细反馈
2025-05-24 13:29:29,889 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 13:29:29,892 - gui - INFO - 状态更新: 批改完成，用时: 2.32秒
2025-05-24 13:29:52,752 - gui - INFO - 状态更新: 已加载图像: Q2.png
2025-05-24 13:29:58,199 - gui - INFO - 状态更新: 已加载图像: Q9.png
2025-05-24 13:36:59,836 - gui - INFO - GUI应用已关闭
2025-05-24 13:40:26,986 - main - INFO - 🎯 启动模式: all
2025-05-24 13:40:26,986 - main - INFO - ==================================================
2025-05-24 13:40:26,986 - main - INFO - 🚀 启动完整系统...
2025-05-24 13:40:26,987 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 13:40:26,991 - main - INFO - 🗄️ 检查数据库...
2025-05-24 13:40:26,992 - main - INFO - ✅ students表存在
2025-05-24 13:40:26,992 - main - INFO - ✅ 数据库检查完成
2025-05-24 13:40:26,992 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 13:40:26,993 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 13:40:27,622 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 13:40:30,006 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 13:40:30,006 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 13:40:30,007 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 13:40:30,410 - data.database - INFO - 数据库初始化完成
2025-05-24 13:40:30,807 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 13:40:30,807 - gui - INFO - 启动数学批改系统GUI
2025-05-24 13:40:30,850 - gui - INFO - 状态更新: 系统已启动
2025-05-24 13:41:19,663 - gui - INFO - 状态更新: 已加载图像: Q2.png
2025-05-24 13:41:24,130 - gui - INFO - 状态更新: 结果已清除
2025-05-24 13:41:24,264 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 13:41:24,266 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 13:41:24,293 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 13:41:24,293 - mcp_client.client - INFO - 服务器信息: {'version': '2.0', 'capabilities': ['enhanced_analysis', 'grade_specific', 'detailed_feedback']}
2025-05-24 13:41:24,293 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 13:41:24,297 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 13:41:24,298 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 13:41:24,299 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 13:41:24,299 - gui - INFO - ✅ MCP批改成功，处理时间: 2.53秒
2025-05-24 13:41:24,300 - gui - INFO - 批改成功，准备显示结果
2025-05-24 13:41:24,301 - gui - INFO - 开始显示详细反馈...
2025-05-24 13:41:24,302 - gui - INFO - 准备显示 1 个题目的详细反馈
2025-05-24 13:41:24,559 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 13:41:24,563 - gui - INFO - 状态更新: 批改完成，用时: 2.53秒
2025-05-24 14:12:19,915 - gui - INFO - GUI应用已关闭
2025-05-24 14:19:42,108 - main - INFO - 🎯 启动模式: all
2025-05-24 14:19:42,108 - main - INFO - ==================================================
2025-05-24 14:19:42,108 - main - INFO - 🚀 启动完整系统...
2025-05-24 14:19:42,109 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 14:19:42,146 - main - INFO - 🗄️ 检查数据库...
2025-05-24 14:19:42,174 - main - INFO - ✅ students表存在
2025-05-24 14:19:42,174 - main - INFO - ✅ 数据库检查完成
2025-05-24 14:19:42,174 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 14:19:42,175 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 14:19:43,100 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 14:19:45,186 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 14:19:45,186 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 14:19:45,186 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 14:19:46,746 - data.database - INFO - 数据库初始化完成
2025-05-24 14:19:47,817 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 14:19:47,817 - gui - INFO - 启动数学批改系统GUI
2025-05-24 14:19:47,870 - gui - INFO - 状态更新: 系统已启动
2025-05-24 14:20:31,864 - gui - INFO - 状态更新: 已加载图像: Q2.png
2025-05-24 14:23:55,876 - gui - INFO - GUI应用已关闭
2025-05-24 14:26:29,078 - main - INFO - 🎯 启动模式: all
2025-05-24 14:26:29,078 - main - INFO - ==================================================
2025-05-24 14:26:29,078 - main - INFO - 🚀 启动完整系统...
2025-05-24 14:26:29,078 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 14:26:29,084 - main - INFO - 🗄️ 检查数据库...
2025-05-24 14:26:29,085 - main - INFO - ✅ students表存在
2025-05-24 14:26:29,085 - main - INFO - ✅ 数据库检查完成
2025-05-24 14:26:29,085 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 14:26:29,086 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 14:26:29,442 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 14:26:32,100 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 14:26:32,100 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 14:26:32,100 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 14:26:32,437 - data.database - INFO - 数据库初始化完成
2025-05-24 14:26:32,629 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 14:26:32,629 - gui - INFO - 启动数学批改系统GUI
2025-05-24 14:26:32,662 - gui - INFO - 状态更新: 系统已启动
2025-05-24 14:27:15,831 - gui - INFO - 状态更新: 已加载图像: Q2.png
2025-05-24 14:28:00,175 - gui - INFO - 状态更新: 结果已清除
2025-05-24 14:28:00,382 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 14:28:00,384 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 14:28:00,435 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 14:28:00,435 - mcp_client.client - INFO - 服务器信息: {'version': '2.0', 'capabilities': ['enhanced_analysis', 'grade_specific', 'detailed_feedback']}
2025-05-24 14:28:00,435 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 14:28:00,517 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 14:28:00,519 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 14:28:00,521 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 14:28:00,521 - gui - INFO - ✅ MCP批改成功，处理时间: 2.55秒
2025-05-24 14:28:00,522 - gui - INFO - 批改成功，准备显示结果
2025-05-24 14:28:00,523 - gui - INFO - 开始显示详细反馈...
2025-05-24 14:28:00,523 - gui - INFO - 准备显示 1 个题目的详细反馈
2025-05-24 14:28:00,940 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 14:28:00,961 - gui - INFO - 状态更新: 批改完成，用时: 2.55秒
2025-05-24 14:31:17,534 - gui - INFO - 状态更新: 已加载图像: Q2.png
2025-05-24 14:31:19,681 - gui - INFO - 状态更新: 结果已清除
2025-05-24 14:31:19,688 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 14:31:19,690 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 14:31:19,692 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 14:31:19,694 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 14:31:19,695 - gui - INFO - ✅ MCP批改成功，处理时间: 3.46秒
2025-05-24 14:31:19,697 - gui - INFO - 批改成功，准备显示结果
2025-05-24 14:31:19,698 - gui - INFO - 开始显示详细反馈...
2025-05-24 14:31:19,699 - gui - INFO - 准备显示 1 个题目的详细反馈
2025-05-24 14:31:19,714 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 14:31:19,717 - gui - INFO - 状态更新: 批改完成，用时: 3.46秒
2025-05-24 14:31:31,167 - gui - INFO - GUI应用已关闭
2025-05-24 14:31:31,228 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-3' coro=<Connection.keepalive() done, defined at E:\Miniconda\envs\openai2\lib\site-packages\websockets\asyncio\connection.py:803> wait_for=<Future pending cb=[Task.task_wakeup()]>>
2025-05-24 14:34:15,819 - main - INFO - 🎯 启动模式: all
2025-05-24 14:34:15,819 - main - INFO - ==================================================
2025-05-24 14:34:15,819 - main - INFO - 🚀 启动完整系统...
2025-05-24 14:34:15,819 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 14:34:15,857 - main - INFO - 🗄️ 检查数据库...
2025-05-24 14:34:15,884 - main - INFO - ✅ students表存在
2025-05-24 14:34:15,884 - main - INFO - ✅ 数据库检查完成
2025-05-24 14:34:15,885 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 14:34:15,885 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 14:34:16,569 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 14:34:18,894 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 14:34:18,894 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 14:34:18,894 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 14:34:20,359 - data.database - INFO - 数据库初始化完成
2025-05-24 14:34:21,424 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 14:34:21,424 - gui - INFO - 启动数学批改系统GUI
2025-05-24 14:34:21,472 - gui - INFO - 状态更新: 系统已启动
2025-05-24 14:34:54,123 - gui - INFO - 状态更新: 已加载图像: Q6.png
2025-05-24 14:35:41,478 - gui - INFO - 状态更新: 结果已清除
2025-05-24 14:35:41,700 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 14:35:41,701 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 14:35:41,842 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 14:35:41,842 - mcp_client.client - INFO - 服务器信息: {'version': '2.0', 'capabilities': ['enhanced_analysis', 'grade_specific', 'detailed_feedback']}
2025-05-24 14:35:41,842 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 14:35:41,913 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 14:35:41,915 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 14:35:41,917 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 14:35:41,917 - gui - INFO - ✅ MCP批改成功，处理时间: 2.40秒
2025-05-24 14:35:41,919 - gui - INFO - 批改成功，准备显示结果
2025-05-24 14:35:41,921 - gui - INFO - 开始显示详细反馈...
2025-05-24 14:35:41,922 - gui - INFO - 准备显示 1 个题目的详细反馈
2025-05-24 14:35:42,357 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 14:35:42,377 - gui - INFO - 状态更新: 批改完成，用时: 2.40秒
2025-05-24 14:39:02,286 - gui - INFO - 状态更新: 已加载图像: Q1.png
2025-05-24 14:39:07,537 - gui - INFO - 状态更新: 结果已清除
2025-05-24 14:39:07,545 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 14:39:07,547 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 14:39:07,549 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 14:39:07,551 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 14:39:07,551 - gui - INFO - ✅ MCP批改成功，处理时间: 3.90秒
2025-05-24 14:39:07,552 - gui - INFO - 批改成功，准备显示结果
2025-05-24 14:39:07,553 - gui - INFO - 开始显示详细反馈...
2025-05-24 14:39:07,553 - gui - INFO - 准备显示 2 个题目的详细反馈
2025-05-24 14:39:07,617 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 14:39:07,620 - gui - INFO - 状态更新: 批改完成，用时: 3.90秒
2025-05-24 14:39:22,672 - gui - INFO - 状态更新: 结果已清除
2025-05-24 14:39:22,677 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 14:39:22,679 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 14:39:22,681 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 14:39:22,684 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 14:39:22,684 - gui - INFO - ✅ MCP批改成功，处理时间: 3.66秒
2025-05-24 14:39:22,686 - gui - INFO - 批改成功，准备显示结果
2025-05-24 14:39:22,686 - gui - INFO - 开始显示详细反馈...
2025-05-24 14:39:22,687 - gui - INFO - 准备显示 1 个题目的详细反馈
2025-05-24 14:39:22,701 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 14:39:22,704 - gui - INFO - 状态更新: 批改完成，用时: 3.66秒
2025-05-24 14:39:58,170 - gui - INFO - 状态更新: 结果已清除
2025-05-24 14:39:58,175 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 14:39:58,177 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 14:39:58,180 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 14:39:58,182 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 14:39:58,182 - gui - INFO - ✅ MCP批改成功，处理时间: 2.40秒
2025-05-24 14:39:58,184 - gui - INFO - 批改成功，准备显示结果
2025-05-24 14:39:58,185 - gui - INFO - 开始显示详细反馈...
2025-05-24 14:39:58,185 - gui - INFO - 准备显示 1 个题目的详细反馈
2025-05-24 14:39:58,201 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 14:39:58,203 - gui - INFO - 状态更新: 批改完成，用时: 2.40秒
2025-05-24 14:40:12,703 - gui - INFO - GUI应用已关闭
2025-05-24 14:41:24,713 - main - INFO - 🎯 启动模式: all
2025-05-24 14:41:24,714 - main - INFO - ==================================================
2025-05-24 14:41:24,714 - main - INFO - 🚀 启动完整系统...
2025-05-24 14:41:24,714 - main - INFO - 📋 步骤1: 检查数据库...
2025-05-24 14:41:24,720 - main - INFO - 🗄️ 检查数据库...
2025-05-24 14:41:24,721 - main - INFO - ✅ students表存在
2025-05-24 14:41:24,721 - main - INFO - ✅ 数据库检查完成
2025-05-24 14:41:24,721 - main - INFO - 📋 步骤2: 启动MCP服务器...
2025-05-24 14:41:24,722 - main - INFO - ⏳ 等待MCP服务器启动...
2025-05-24 14:41:25,050 - main - ERROR - MCP服务器启动失败: cannot import name 'create_mcp_client' from 'mcp_client.client' (E:\桌面\mcp_mathai\mcp_client\client.py)
2025-05-24 14:41:27,726 - main - ERROR - ❌ MCP服务器启动失败，但继续启动GUI
2025-05-24 14:41:27,726 - main - INFO - 📋 步骤4: 启动GUI...
2025-05-24 14:41:27,726 - main - INFO - 🖥️ 启动GUI界面...
2025-05-24 14:41:28,057 - data.database - INFO - 数据库初始化完成
2025-05-24 14:41:28,353 - main - INFO - ✅ GUI创建成功，开始运行...
2025-05-24 14:41:28,353 - gui - INFO - 启动数学批改系统GUI
2025-05-24 14:41:28,402 - gui - INFO - 状态更新: 系统已启动
2025-05-24 14:42:11,639 - gui - INFO - 状态更新: 已加载图像: Q6.png
2025-05-24 14:42:21,915 - gui - INFO - 状态更新: 结果已清除
2025-05-24 14:42:22,068 - gui - INFO - 状态更新: 正在批改作业...
2025-05-24 14:42:22,069 - mcp_client.client - INFO - 尝试连接到MCP服务器: ws://localhost:8765
2025-05-24 14:42:22,099 - mcp_client.client - INFO - ✅ MCP客户端连接成功
2025-05-24 14:42:22,100 - mcp_client.client - INFO - 服务器信息: {'version': '2.0', 'capabilities': ['enhanced_analysis', 'grade_specific', 'detailed_feedback']}
2025-05-24 14:42:22,100 - gui - INFO - ✅ MCP客户端连接成功
2025-05-24 14:42:22,104 - gui - INFO - 🚀 开始调用MCP批改服务...
2025-05-24 14:42:22,105 - mcp_client.client - INFO - 发送MCP工具调用: analyze_homework
2025-05-24 14:42:22,107 - mcp_client.client - INFO - ✅ MCP工具调用成功: analyze_homework
2025-05-24 14:42:22,107 - gui - INFO - ✅ MCP批改成功，处理时间: 2.40秒
2025-05-24 14:42:22,108 - gui - INFO - 批改成功，准备显示结果
2025-05-24 14:42:22,109 - gui - INFO - 开始显示详细反馈...
2025-05-24 14:42:22,109 - gui - INFO - 准备显示 1 个题目的详细反馈
2025-05-24 14:42:22,399 - gui - INFO - ✅ 详细反馈显示完成
2025-05-24 14:42:22,405 - gui - INFO - 状态更新: 批改完成，用时: 2.40秒
2025-05-24 14:46:42,472 - gui - INFO - GUI应用已关闭
2025-05-24 14:46:42,543 - asyncio - ERROR - Task was destroyed but it is pending!
task: <Task pending name='Task-3' coro=<Connection.keepalive() done, defined at E:\Miniconda\envs\openai2\lib\site-packages\websockets\asyncio\connection.py:803> wait_for=<Future pending cb=[Task.task_wakeup()]>>
